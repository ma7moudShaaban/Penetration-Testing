# Exploitation

## Exploit Categories

- **Service-Side Exploits**: These exploits target vulnerabilities in services listening for network traffic. Attackers craft specific packets to exploit these vulnerabilities.
- **Client-Side Exploits**: Client-side exploits rely on a client application accessing an attacker-supplied response or file via an attacker-controlled server, delivering the exploit.
- **Local Privilege Escalation Exploits**: These exploits require some form of access on the target machine in advance. They allow jumping from a limited privilege account to higher privileges, such as `root`/UID 0 on Linux or UNIX, or `Administrator` or `SYSTEM` on Windows.

## Payloads

### Staged Payloads

- `windows/shell/reverse_tcp`:
  - Used with `windows/smb/ms08_067_netapi` exploit.
  - Sends a stager payload to the SMB server, connecting back to the attacker's machine to request further instructions from Metasploit.
  - Metasploit sets up a handler to catch the reverse connection and serve up the rest of the payloadâ€”a reverse shell.
  - Staged payloads allow using complex payloads without requiring much memory space.

### Inline Payloads

- `windows/shell_reverse_tcp`:
  - An inline payload with all code needed to push a reverse shell back to the attacker's machine.
  - Takes up more space than staged payloads but is more stable and consistent because all instructions are included in the original exploit string.

### Meterpreter

- Custom payload for the Metasploit Project.
- Loaded directly into the memory of an exploited process using reflective DLL injection, residing entirely in memory and writing nothing to disk.
- Runs inside the memory of the host process, avoiding the need to start a new process that might be noticed by an intrusion prevention or detection system.
- Uses TLS encryption for communication between it and Metasploit.
- Offers additional useful commands, such as `hashdump`, to gain access to local Windows password hashes.

*Note: In Meterpreter, you can convert a shell to Meterpreter using `sessions -u SESSION_NUMBER`.*

## Searching Exploits

- **Searchsploit**
- **Shodan**: [exploits.shodan.io](https://exploits.shodan.io/welcome)
- **msfsearch**
- **PacketStorm**: If nothing is found, try searching for the used technology inside [PacketStorm](https://packetstormsecurity.com/).
- **Vulners**: Search in Vulners database: [vulners.com](https://vulners.com/)
- **Sploitus**: Search exploits in other databases: [sploitus.com](https://sploitus.com/)
